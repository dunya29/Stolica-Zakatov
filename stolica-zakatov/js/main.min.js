window.addEventListener("load",(()=>{if(document.querySelector(".preloader")){document.body.classList.remove("no-scroll"),disableScroll(),document.querySelectorAll(".preloader__logo path").forEach((e=>{let t=Math.ceil(e.getTotalLength());e.style.strokeDasharray=t+"px",e.style.strokeDashoffset=t,setTimeout((()=>{e.parentNode.classList.add("strokeAnim")}),0)}));let e=0,t=setInterval((()=>{document.querySelector(".preloader__percent").textContent=e+"%",e++,101===e&&(clearInterval(t),setTimeout((()=>{enableScroll()}),1900))}),7)}}));const header=document.querySelector(".header"),iconMenu=document.querySelector(".icon-menu"),modal=document.querySelectorAll(".modal"),modOpenBtn=document.querySelectorAll(".mod-open-btn"),successModal=document.querySelector(".success-mod"),errorModal=document.querySelector(".error-mod");let animSpd=400,bp={largeDesktop:1440.98,desktop:1278.98,laptop:1050.98,tablet:767.98,phone:600.98};function sprite(e){return'<svg><use xlink:href="img/svg/sprite.svg#'+e+'"></use></svg>'}function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}function enableScroll(){document.querySelector(".modal.open")||(document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"))}function disableScroll(){if(!document.querySelector(".modal.open")){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelector(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}}function smoothDrop(e,t,r=!1){let o=r||500;if(t.style.overflow="hidden",t.style.transition=`height ${o}ms ease`,t.style["-webkit-transition"]=`height ${o}ms ease`,e.classList.contains("active")){e.parentNode.classList.remove("active");let r=t.clientHeight+"px";t.style.height=r,setTimeout((function(){t.style.height="0",setTimeout((()=>{t.style.display="none",t.style.height=null,e.classList.remove("active")}),o)}),0)}else{e.parentNode.classList.add("active"),t.style.display="block";let r=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=r,setTimeout((()=>{t.style.height=null,e.classList.add("active")}),o)}),0)}}function tabSwitch(e,t){e.forEach((r=>{r.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-selected",!1)})),r.classList.add("active"),r.setAttribute("aria-selected",!0),t.forEach((e=>{e.dataset.block===r.dataset.tab?e.classList.contains("active")||(e.classList.add("active"),e.style.opacity="0",setTimeout((()=>{e.style.opacity="1"}),0)):e.classList.remove("active")}))}))}))}const customScroll=document.querySelectorAll(".custom-scroll");let isFirefox="undefined"!=typeof InstallTrigger;isFirefox&&(document.documentElement.style.scrollbarColor="#ba0060 #f8e5ef"),isFirefox&&customScroll&&customScroll.forEach((e=>{e.style.scrollbarColor="#ba0060 #f8e5ef"}));const anchorLinks=document.querySelectorAll(".js-anchor");anchorLinks.length&&document.querySelectorAll(".js-anchor").forEach((e=>{e.addEventListener("click",(t=>{let r=e.getAttribute("href").indexOf("#");const o=e.getAttribute("href").substring(r);let n=document.querySelector(o);if(n){t.preventDefault();let e=n.getBoundingClientRect().top<0?n.getBoundingClientRect().top-header.clientHeight-10:n.getBoundingClientRect().top-10;iconMenu.classList.contains("active")?(iconMenu.click(),setTimeout((()=>{window.scrollTo({top:scrollPos()+e,behavior:"smooth"})}),300)):window.scrollTo({top:scrollPos()+e,behavior:"smooth"})}}))}));let lastScroll=scrollPos();window.addEventListener("scroll",(()=>{scrollPos()>1?(header.classList.remove("no-scroll"),header.classList.add("scroll"),scrollPos()>lastScroll&&!header.classList.contains("unshow")?header.classList.add("unshow"):scrollPos()<lastScroll&&header.classList.contains("unshow")&&header.classList.remove("unshow")):(header.classList.remove("scroll","unshow"),header.classList.add("no-scroll")),lastScroll=scrollPos()}));const switchBlock=document.querySelectorAll(".switch-block");function openModal(e){let t=document.querySelector(".modal.open");disableScroll(),t&&t.classList.remove("open"),e.classList.add("open")}function closeModal(e){e.querySelector("video")&&e.querySelectorAll("video").forEach((e=>e.pause())),e.classList.remove("open"),setTimeout((()=>{enableScroll()}),animSpd)}function initfancyModal(e){let t=[],r=e.getAttribute("data-fit")?e.getAttribute("data-fit"):"media-contain",o=e.getAttribute("data-fancy"),n=e.hasAttribute("data-thumb");document.querySelectorAll("[data-fancy]").forEach((e=>{if(!e.closest(".swiper-slide-duplicate")&&e.getAttribute("data-fancy")===o){let r={src:e.getAttribute("data-src"),type:e.getAttribute("data-type")||"image",caption:e.getAttribute("data-caption")||""};"video"===e.getAttribute("data-type")&&e.getAttribute("data-poster")&&(r.poster=e.getAttribute("data-poster")),t.push(r)}}));let i=t.findIndex((t=>t.src===e.getAttribute("data-src")));document.querySelector(".footer").insertAdjacentHTML("afterend",`\n                <div class="custom-scroll modal fancy-modal ${o+"-modal"}">\n                    <div class="fancy-modal__content">\n                        <button type="button" class="btn-cross modal__close"></button>\n                        <div class="modal__top">\n                            <h2>${t[i].caption}</h2>\n                        </div>\n                        <div class="fancy-modal__mainswiper">\n                            <div class="swiper">\n                                <div class="swiper-wrapper">\n                                    ${t.map(((e,t)=>`<div class="swiper-slide">\n                                        <div class="${r}">\n                                            ${"video"===e.type?`<video ${t===i?`src='${e.src}'`:`data-src='${e.src}'`} ${e.poster?`poster='${e.poster}'`:""} loop autoplay playsinline mute controls></video>`:`<img src=${e.src} alt="">`}                                                \n                                        </div>\n                                    </div>`)).join("")}\n                                </div>\n                            </div>\n                            <div class="nav-btns">\n                                <button type="button" class="nav-btn nav-btn--prev">${sprite("btn-prev")}</button>\n                                <button type="button" class="nav-btn nav-btn--next">${sprite("btn-next")}</button>\n                            </div>\n                        </div>\n                        ${n&&t.length>1?`<div class="fancy-modal__thumbswiper">\n                            <div class="swiper">\n                                <div class="swiper-wrapper">\n                                    ${t.map((e=>`<div class="swiper-slide">\n                                        <div class="${r} ${"video"===e.type?"video":""}">\n                                            ${"video"===e.type?`<img ${e.poster?`src='${e.poster}'`:""}>`:`<img src=${e.src} alt="">`}                                                \n                                        </div>\n                                    </div>`)).join("")}\n                                </div>\n                            </div>\n                        </div>`:""}\n                    </div>\n                </div>\n            `);const s=document.querySelector(".fancy-modal");let l;n&&t.length>1&&(l=new Swiper(s.querySelector(".fancy-modal__thumbswiper .swiper"),{slidesPerView:3,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,initialSlide:i,navigation:{prevEl:s.querySelector(".nav-btn--prev"),nextEl:s.querySelector(".nav-btn--next")},breakpoints:{575.98:{slidesPerView:4}},speed:800}));let a=new Swiper(s.querySelector(".fancy-modal__mainswiper .swiper"),{slidesPerView:1,observer:!0,observeParents:!0,initialSlide:i,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:l||null},navigation:{prevEl:s.querySelector(".nav-btn--prev"),nextEl:s.querySelector(".nav-btn--next")},speed:300});a.on("slideChange",(e=>{s.querySelector(".modal__top h2").textContent=t[a.activeIndex].caption,s.querySelector("video")&&s.querySelectorAll("video").forEach((e=>e.pause()));let r=a.slides[a.activeIndex].querySelector("[data-src]"),o=a.slides[a.activeIndex].querySelector("video");r?(r.setAttribute("src",r.getAttribute("data-src")),r.removeAttribute("data-src")):!r&&o&&o.play()})),openModal(s),s.querySelectorAll(".modal__close").forEach((e=>{e.addEventListener("click",(e=>{closeModal(s),setTimeout((()=>{s.remove()}),animSpd)}))}))}switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-tab]"),e.querySelectorAll("[data-block]"))})),modal&&modal.forEach((e=>{e.addEventListener("click",(t=>{e.querySelector(".modal__content").contains(t.target)||closeModal(e)})),e.querySelectorAll(".modal__close").forEach((t=>{t.addEventListener("click",(()=>{closeModal(e)}))}))})),modOpenBtn&&modOpenBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");openModal(document.getElementById(r))}))}));const fancyBlock=document.querySelectorAll(".fancy-block");function setSuccessTxt(e=!1,t=!1,r=!1){successModal.querySelector("h2").textContent=e||"Ваша заявка принята",successModal.querySelector(".main-btn span").textContent=r||"Закрыть",successModal.querySelector("p").textContent=t||""}function setErrorTxt(e=!1,t=!1,r=!1){errorModal.querySelector("h2").textContent=e||"Ошибка",errorModal.querySelector(".main-btn span").textContent=r||"Закрыть",errorModal.querySelector("p").textContent=t||""}function openSuccessMod(e=!1,t=!1,r=!1){setSuccessTxt(e,t,r),openModal(successModal)}function openErrorMod(e=!1,t=!1,r=!1){setErrorTxt(e,t,r),openModal(errorModal)}function formReset(e){e.querySelectorAll(".item-form").length>0&&e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("[data-error]").length>0&&e.querySelectorAll("[data-error]").forEach((e=>e.textContent="")),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__items")&&(e.querySelector(".file-form__items").innerHTML="")}fancyBlock.length&&fancyBlock.forEach((e=>{e.addEventListener("click",(t=>{const r=e.querySelectorAll("[data-fancy]");r.length&&r.forEach((e=>{e.contains(t.target)&&initfancyModal(e)}))}))}));const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));let allFileTypes=[{extension:".png",mimeType:"image/png"},{extension:[".jpg",".jpeg"],mimeType:"image/jpeg"},{extension:".gif",mimeType:"image/gif"},{extension:".bmp",mimeType:"image/bmp"},{extension:".txt",mimeType:"text/plain"},{extension:".rtf",mimeType:"application/rtf"},{extension:[".ppt",".pot",".pps",".ppa"],mimeType:"application/vnd.ms-powerpoint"},{extension:".pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{extension:".odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{extension:".ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{extension:".doc",mimeType:"application/msword"},{extension:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:".pdf",mimeType:"application/pdf"},{extension:[".xls",".xlt",".xla",".xlsb",".xlsm",".xltx",".xltm"],mimeType:"application/vnd.ms-excel"},{extension:".xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{extension:".odt",mimeType:"application/vnd.oasis.opendocument.text"}];function addFile(e,t){let r=t.querySelector("input").getAttribute("data-max-size"),o=t.querySelector("input").getAttribute("accept"),n=[];if(o){let e=o.split(",").map((e=>e.trim().toLowerCase())).filter((e=>""!==e));allFileTypes.forEach((t=>{if(Array.isArray(t.extension)){for(const r of t.extension)if(e.includes(r)){n.push(t.mimeType);break}}else"string"==typeof t.extension&&e.includes(t.extension)&&n.push(t.mimeType)})),o=e.map((e=>e.replace(/^\./,""))).join(", ")}for(let i=0;i<e.length;i++){let s=e[i];if(r&&s.size>1024*r*1024)return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector("[data-error]").textContent=`Файл должен быть менее ${r} МБ`);if(o&&n.length&&!n.includes(s.type))return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector("[data-error]").textContent=`Разрешённые форматы: ${o}`);{t.classList.remove("error"),t.querySelector("[data-error]").textContent="";let e=new FileReader;e.readAsDataURL(s),e.onload=()=>{t.querySelector(".file-form__items").insertAdjacentHTML("afterbegin",`<div class="file-form__item">\n                        <div class="file-form__name">${s.name}</div>\n                        <button class="btn-cross file-form__del"></button>\n                    </div>`)},e.onerror=()=>{console.log(e.error)}}}}document.querySelector(".file-form")&&document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(t.target.files,e)})),e.addEventListener("click",(t=>{e.querySelectorAll(".file-form__del").forEach(((r,o)=>{if(r.contains(t.target)){const t=new DataTransfer,n=e.querySelector("input"),{files:i}=n;for(let e=0;e<i.length;e++){let r=i[e];e!==o&&t.items.add(r)}n.files=t.files,setTimeout((()=>{r.parentNode.remove()}),0)}}))})),e.addEventListener("dragenter",(e=>{e.preventDefault()})),e.addEventListener("dragover",(e=>{e.preventDefault()})),e.addEventListener("dragleave",(e=>{e.preventDefault()})),e.addEventListener("drop",(function(t){t.preventDefault();const r=new DataTransfer;r.items.add(t.dataTransfer.files[0]);let o=Array.from(r.files);e.querySelector("input").files=r.files,e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(o,e)}))}));const accordion=document.querySelectorAll(".accordion");accordion.length&&accordion.forEach((e=>{e.querySelector(".accordion__header").addEventListener("click",(()=>{e.classList.contains("no-close")||e.parentNode.parentNode.querySelectorAll(".accordion").forEach((t=>{if(t.querySelector(".accordion__header").classList.contains("active")&&(smoothDrop(t.querySelector(".accordion__header"),t.querySelector(".accordion__body")),t.getBoundingClientRect().top<0)){let r=scrollPos()+e.getBoundingClientRect().top-t.querySelector(".accordion__body").clientHeight-header.clientHeight-10;window.scrollTo(0,r)}})),smoothDrop(e.querySelector(".accordion__header"),e.querySelector(".accordion__body"))}))}));const shareList=document.querySelectorAll(".share [data-share]");if(shareList){const e=encodeURIComponent(window.location.href),t=encodeURIComponent(document.title);let r=[{value:"vk",href:"https://vk.com/share.php?url="+e+"&title="+t},{value:"telegram",href:"https://t.me/share/url?url="+e+"&text="+t},{value:"viber",href:"viber://forward?text="+e},{value:"odnoklassniki",href:"https://connect.ok.ru/offer?url="+e+"&title="+t}];shareList.forEach((e=>{let t=e.getAttribute("data-share");r.forEach((r=>{r.value===t.toLowerCase()&&e.setAttribute("href",r.href)}))}))}const shareLink=document.querySelector(".share__link");let shareTimeout;shareLink&&shareLink.addEventListener("click",(e=>{e.preventDefault(),clearTimeout(shareTimeout);let t=document.createElement("input");document.body.append(t),t.value=window.location.href,t.select(),document.execCommand("copy"),t.remove(),shareLink.classList.add("coppied"),shareTimeout=setTimeout((()=>{shareLink.classList.remove("coppied")}),1500)}));const scrollIndicator=document.querySelector(".scroll-indicator");scrollIndicator&&window.addEventListener("scroll",(()=>{scrollIndicator.style.width=100*scrollPos()/(document.body.scrollHeight-window.innerHeight)+"%"}));const fixedBtn=document.querySelector(".fixed-btn");function fixedBtnVisibility(){scrollPos()>window.innerHeight&&scrollPos()+window.innerHeight+150<document.body.scrollHeight?fixedBtn.classList.add("show"):fixedBtn.classList.remove("show")}fixedBtn&&(fixedBtnVisibility(),window.addEventListener("scroll",fixedBtnVisibility)),iconMenu&&iconMenu.addEventListener("click",(()=>{iconMenu.classList.contains("active")?(header.classList.remove("show-mobMenu"),iconMenu.classList.remove("active"),iconMenu.setAttribute("aria-label","Открыть меню"),enableScroll()):(header.classList.add("show-mobMenu"),iconMenu.classList.add("active"),iconMenu.setAttribute("aria-label","Закрыть меню"),disableScroll()),window.addEventListener("resize",(()=>{window.innerWidth>bp.tablet&&header.classList.contains("show-mobMenu")&&iconMenu.click()}));const e=document.querySelector(".mobile-menu");e&&e.addEventListener("click",(t=>{e.querySelector(".mobile-menu__inner").contains(t.target)||iconMenu.click()}))}));const headliners=document.querySelector(".headliners");if(headliners){new Swiper(headliners.querySelector(".swiper"),{slidesPerView:1.47,observer:!0,observeParents:!0,grabCursor:!0,centeredSlides:!0,watchSlidesProgress:!0,effect:"coverflow",slideToClickedSlide:!0,initialSlide:headliners.querySelectorAll(".swiper-slide").length>2?2:0,coverflowEffect:{rotate:0,stretch:0,depth:400,modifier:1,slideShadows:!0},breakpoints:{1050.98:{slidesPerView:3.55},767.98:{slidesPerView:2.95},479.98:{slidesPerView:2.45}},scrollbar:{el:headliners.querySelector(".swiper-scrollbar"),draggable:!0},autoplay:{delay:5e3,pauseOnMouseEnter:!0,disableOnInteraction:!1},speed:1e3})}const equalizer=document.querySelector(".equalizer"),about=document.querySelector(".about");if(about){let o,n=new Swiper(about.querySelector(".about__swiper1"),{observer:!0,observeParents:!0,effect:"fade",fadeEffect:{crossFade:!0},watchSlidesProgress:!0,allowTouchMove:!1,speed:1e3}),i=new Swiper(about.querySelector(".about__swiper3"),{observer:!0,observeParents:!0,effect:"fade",fadeEffect:{crossFade:!0},watchSlidesProgress:!0,allowTouchMove:!1,speed:1e3}),s=new Swiper(about.querySelector(".about__swiper2"),{observer:!0,observeParents:!0,effect:"fade",fadeEffect:{crossFade:!0},watchSlidesProgress:!0,allowTouchMove:!1,scrollbar:{el:about.querySelector(".swiper-scrollbar"),draggable:!0},autoplay:{delay:5e3,pauseOnMouseEnter:!0,disableOnInteraction:!1},speed:1e3});s.on("slideChange",(()=>{clearTimeout(o),n.slideTo(s.activeIndex),o=setTimeout((()=>{i.slideTo(s.activeIndex)}),800)}))}equalizer&&about&&gsap.to(equalizer,{ease:"none",scrollTrigger:{trigger:equalizer,pin:!0,pinSpacing:!1,scrub:1,start:"top top",invalidateOnRefresh:!0,anticipatePin:1}});const projects=document.querySelector(".projects"),projectCols=document.querySelector(".projects__cols");if(projects&&projects.querySelector(".swiper")){let l=new Swiper(".projects__imageswiper",{observer:!0,observeParents:!0,watchSlidesProgress:!0,parallax:!0,navigation:{nextEl:projects.querySelector(".nav-btn--next"),prevEl:projects.querySelector(".nav-btn--prev")},scrollbar:{el:projects.querySelector(".swiper-scrollbar"),draggable:!0},autoplay:{delay:5e3,pauseOnMouseEnter:!0,disableOnInteraction:!1},speed:1e3}),a=new Swiper(".projects__contentswiper",{observer:!0,observeParents:!0,effect:"fade",fadeEffect:{crossFade:!0},allowTouchMove:!1,speed:1e3});l.on("slideChange",(()=>{a.slideTo(l.activeIndex)})),projectCols&&projects.querySelector(".nav-btn")&&(projectCols.addEventListener("mousemove",(e=>{let t=projectCols.getBoundingClientRect().left,r=projectCols.clientWidth/4;e.clientX-t<r?projects.querySelector(".nav-btn--prev").classList.add("show"):projects.querySelector(".nav-btn--prev").classList.remove("show"),window.innerWidth-e.clientX<r?projects.querySelector(".nav-btn--next").classList.add("show"):projects.querySelector(".nav-btn--next").classList.remove("show")})),projectCols.addEventListener("mouseleave",(()=>{projects.querySelector(".nav-btn--prev").classList.remove("show"),projects.querySelector(".nav-btn--next").classList.remove("show")})))}const partners=document.querySelector(".partners"),partnersSticky=document.querySelector(".partners__sticky"),partnersItems=document.querySelectorAll(".partners__item");if(partnersSticky&&partnersItems.length){function offsetTop(){let e;return e=window.innerWidth>bp.tablet?(window.innerHeight-partnersSticky.clientHeight)/2>0?(window.innerHeight-partnersSticky.clientHeight)/2:0:header.clientHeight+10,e}let c=partnersItems.length;partnersItems.forEach(((e,t)=>{t<partnersItems.length&&gsap.to(e,{ease:"none",scrollTrigger:{trigger:e,pin:!0,pinSpacing:!1,scrub:!0,start:()=>"top top+="+offsetTop(),end:()=>"+="+e.offsetHeight*(c-(window.innerWidth>bp.tablet?2:1)-t),invalidateOnRefresh:!0,anticipatePin:1}})})),gsap.matchMedia().add("(min-width: 767.98px)",(()=>{gsap.to(partnersSticky,{ease:"none",scrollTrigger:{trigger:partnersSticky,pin:!0,pinSpacing:!1,scrub:!0,start:()=>"top top+="+offsetTop(),end:()=>"+="+partners.offsetHeight/c*(c-2),onEnterBack:()=>header.classList.add("hidden"),onLeaveBack:()=>header.classList.remove("hidden"),invalidateOnRefresh:!0,anticipatePin:1}})}))}const mainHistory=document.querySelector(".main-history");mainHistory&&gsap.to(mainHistory,{ease:"none",scrollTrigger:{trigger:mainHistory,start:"top center",onEnter:()=>{mainHistory.classList.contains("show")||mainHistory.classList.add("show")},invalidateOnRefresh:!0}});const schedule=document.querySelector(".schedule"),scheduleFilter=document.querySelector(".schedule-filter"),filterSelected=document.querySelector(".filter-selected__items");let filterObj;schedule&&(filterObj={checkInp:function(e){e.checked=!0,e.setAttribute("checked",!0)},uncheckInp:function(e){e.checked=!1,e.removeAttribute("checked")},setSelected:function(e){let t=e.parentNode.querySelector("span:last-child").textContent,r=e.getAttribute("data-id"),o=e.getAttribute("data-name"),n=o?o+" "+t.toLowerCase():t;filterSelected.insertAdjacentHTML("afterbegin",`<li data-target="${r}">${n}<button class="btn-cross"></button></li>`)},removeSelected:function(e){filterSelected.querySelector(`[data-target="${e}"]`)&&filterSelected.querySelector(`[data-target="${e}"]`).remove()},selectedOnClick:function(e){filterSelected.querySelectorAll("li").forEach((t=>{if(t.querySelector(".btn-cross").contains(e.target)){let e=t.getAttribute("data-target");this.uncheckInp(scheduleFilter.querySelector(`label input[data-id='${e}']`)),t.remove()}}))}},scheduleFilter.addEventListener("click",(e=>{scheduleFilter.querySelector("[data-schedule-tab]")&&scheduleFilter.querySelectorAll("[data-schedule-tab]").forEach((t=>{if(t.contains(e.target)){schedule.querySelectorAll("[data-schedule-tab]").forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-selected",!1)})),t.classList.add("active"),t.setAttribute("aria-selected",!0);let e=t.getAttribute("data-schedule-tab"),r=schedule.querySelector(`[data-schedule-block='${e}']`);r&&(schedule.querySelectorAll("[data-schedule-block").forEach((e=>e.classList.remove("active"))),r.classList.add("active"),r.style.opacity="0",setTimeout((()=>{r.style.opacity="1"}),0))}})),scheduleFilter.querySelector("label input")&&scheduleFilter.querySelectorAll("label input").forEach((t=>{if(t.contains(e.target)){let e=t.getAttribute("data-id");"checkbox"===t.type?t.checked?filterObj.setSelected(t):filterObj.removeSelected(e):"radio"===t.type&&(scheduleFilter.querySelectorAll(`input[name='${t.name}']`).forEach((e=>filterObj.removeSelected(e.getAttribute("data-id")))),scheduleFilter.setSelected(t))}})),window.innerWidth<=bp.laptop&&e.target.classList.contains("schedule-filter__lbl")&&e.target.nextElementSibling.classList.contains("modal")&&openModal(e.target.nextElementSibling),window.addEventListener("resize",(()=>{window.innerWidth>bp.laptop&&scheduleFilter.querySelector(".modal.open")&&closeModal(scheduleFilter.querySelector(".modal.open"))}))})),filterSelected.addEventListener("click",(e=>filterObj.selectedOnClick(e))));const Sc=(e,t)=>Math.random()*(t-e)+e;class MatterClass{constructor(e){this.container=e.container,this.elements=[...e.elements],this.restitution=e.restitution||.4,this.gravity=e.gravity||.2,this.interactCallback=e.interactCallback||null,this.updateCallback=e.updateCallback||null,this.triggerSelector=e.triggerSelector||null,this.element=this.container,this.width=this.element.getBoundingClientRect().width,this.height=this.element.getBoundingClientRect().height,this.engine=Matter.Engine.create({gravity:{y:this.gravity}}),this.world=this.engine.world,this.render=Matter.Render.create({element:this.element,engine:this.engine,options:{width:this.width,height:this.height,wireframes:!1,background:"transparent"}}),this.setupMouse(),this.addWalls(),Matter.Render.run(this.render),this.runner=Matter.Runner.create(),Matter.Runner.run(this.runner,this.engine),this.addElements(),this.updateBodies()}addElements(){if(!Array.isArray(this.elements))return void console.error("Elements should be an array.");const e=this.elements.map((e=>{const t=e.getBoundingClientRect(),r=Math.min(e.clientWidth,e.clientHeight)/2,o=Math.min(parseFloat(window.getComputedStyle(e).borderRadius),r),n=Matter.Bodies.rectangle(-200,-200,t.width,t.height,{isStatic:!1,restitution:this.restitution,label:e.getAttribute("data-target"),render:{fillStyle:"transparent",strokeStyle:"transparent"},chamfer:{radius:o}});return Matter.Events.on(this.runner,null===this.triggerSelector||void 0===this.triggerSelector?"beforeUpdate":"tick",(()=>{e.style.top=`${n.position.y}px`,e.style.left=`${n.position.x}px`,e.style.transform=`translate(-50%, -50%) rotate(${n.angle}rad)`})),n}));Matter.Composite.add(this.world,e)}addWalls(){const e={label:"wall",isStatic:!0,render:{fillStyle:"transparent",strokeStyle:"transparent"}},t=[Matter.Bodies.rectangle(0,-150,2*this.width,300,e),Matter.Bodies.rectangle(0,this.height+25,2*this.width,60,e),Matter.Bodies.rectangle(-150,0,300,2*this.height,e),Matter.Bodies.rectangle(this.width+150,0,300,2*this.height,e)];Matter.Composite.add(this.world,[...t])}setupMouse(){const e=Matter.Mouse.create(this.render.canvas),t=Matter.MouseConstraint.create(this.engine,{mouse:e,constraint:{stiffness:.1,render:{visible:!1}}});Matter.Composite.add(this.world,t),this.render.mouse=e,e.element.removeEventListener("mousewheel",e.mousewheel),e.element.removeEventListener("DOMMouseScroll",e.mousewheel),this.interactCallback&&this.interactCallback(t)}updateBodies(){if(null===this.triggerSelector||void 0===this.triggerSelector){const e=Matter.Composite.allBodies(this.engine.world),t="wall",r=this.height,o=this.width-10;let n=0;const i=setInterval((()=>{n++,e[n]?.label!==t&&e[n]&&(Matter.Body.setStatic(e[n],!1),Matter.Body.setPosition(e[n],{x:Sc(0,o),y:0}),Matter.Body.setVelocity(e[n],{x:Sc(0,10),y:Sc(0,5)}),e[n].position.y>r&&Matter.Body.setPosition(e[n],{x:Sc(0,o),y:0})),n===e.length&&clearInterval(i)}),100)}else ml.create({trigger:this.triggerSelector,once:!0,start:"top 50%",end:"bottom 50%",onEnter:()=>{const e=Matter.Composite.allBodies(this.engine.world),t=Math.floor(this.width);let r=1;const o=setInterval((()=>{r+=1;const n=Sc(0,t-50),i=e[r];if("wall"!==i?.label&&i){Matter.Body.setStatic(i,!1),Matter.Body.setPosition(i,{x:n,y:0}),Matter.Body.setVelocity(i,{x:Sc(0,10),y:Sc(0,5)});const e=i.bounds.max.x-i.bounds.min.x;i.position.x<e?Matter.Body.setPosition(i,{x:e,y:i.position.y}):i.position.x>this.width-e&&Matter.Body.setPosition(i,{x:this.width-e,y:i.position.y})}r===e.length&&clearInterval(o)}),100)}})}}const jsMatter=document.querySelectorAll(".js-matter");function animate(){document.querySelectorAll("[data-animation]").length&&document.querySelectorAll("[data-animation]").forEach((e=>{let t=e.getBoundingClientRect().top+scrollPos(),r=Math.abs(window.innerHeight-.1*e.offsetHeight);if(scrollPos()>t-r){let t=e.getAttribute("data-animation");e.classList.add(t)}}))}jsMatter.length&&jsMatter.forEach((e=>{let t,r,o;const n=()=>function(e){let t=e.getBoundingClientRect().top,n=scrollPos()+t,i=Math.abs(window.innerHeight-.5*e.offsetHeight);t>0&&scrollPos()>n-i&&!e.classList.contains("animated")&&(new MatterClass({container:e,elements:e.querySelectorAll(".js-matter__item")}),e.classList.add("animated"),window.removeEventListener("scroll",r),window.removeEventListener("resize",o))}(e);r=()=>n(),o=()=>n(),window.addEventListener("scroll",r),window.addEventListener("resize",o),n(),window.addEventListener("wheel",(()=>{clearInterval(t),e.style.pointerEvents="none",t=setInterval((()=>{e.style.pointerEvents=null}),100)}))})),animate(),window.addEventListener("scroll",animate);